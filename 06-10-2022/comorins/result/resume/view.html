<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css" integrity="sha512-xh6O/CkQoPOWDdYTDqeRdPCVd1SpvCA9XXcUnZS2FmJNp1coAFzvtCN9BmamE+4aHK8yyUHUSCcJHgXloTyT2A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/style.css">
  </head>
<body>
    <!-- container starts here -->
    <div class="container wrap">
      <!-- left section starts here -->
      <div class="row rowtbl">
        <div class="col-4 left-container left-section p-4">
          <div id="profile">
            <h2><span id="name"></span></h2>
            <h5><span id="role"></span></h5>
          </div>
          <div id="contactInfo">
            <h5><i class="fa-solid fa-phone"></i> <span id="phoneNum"></span></h5>
            <h5><i class="fa-solid fa-envelope"></i> <span id="email"></span></h5>
            <h5><i class="fa-solid fa-location-dot"></i> <span id="address"></span></h5>
          </div>

          <div id="skillSection">
            <h3 class="main-title">Skills</h3>
            <ul id="skillsList">
    
            </ul>
          </div>

          <div id="personalDetail">
            <h3 class="main-title">Personal Details</h3>
            <h5>Father Name : <span id="fatherName"></span></h5>
            <h5>Date Of Birth : <span id="dob"></span></h5>
            <h5>Gender : <span id="gender"></span></h5>
            <h5>Nationality : <span id="nationality"></span></h5>
            <h5>Languages : <span id="languages"></span></h5>
          </div>

          <h2 class="main-title">Certification</h2>
              <ul id="certicationList"></ul>
        </div>
      <!-- left section ends here -->     
      <div class="col-8 right-section">
        <div class="right-container">
          <section class="objec sect">
            <h2 id="rightTitle">Objective</h2>
            <p id="objective"></p>
          </section>

          <section class="edu sect">
            <h2 id="rightTitle">Education</h2>
            
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Study</th>
                    <th scope="col">Institute</th>
                    <th scope="col">Percentage</th>
                    <th scope="col">Year</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td id="course0"></td>
                    <td  id="institute0"></td>
                    <td  id="percentage0"></td>
                    <td  id="year0"></td>
                    
                  </tr>
                  <tr>
                    <th scope="row">2</th>
                    <td id="course1"></td>
                    <td  id="institute1"></td>
                    <td  id="percentage1"></td>
                    <td  id="year1"></td>
                    
                  </tr>
                  <tr>
                    <th scope="row">3</th>
                    <td id="course2"></td>
                    <td  id="institute2"></td>
                    <td  id="percentage2"></td>
                    <td  id="year2"></td>
                    
                    
                  </tr>
                </tbody>
              </table>
            <h2 id="rightTitle">Experiance</h2>
            <table class="table">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Organisation</th>
                    <th scope="col">Role</th>
                    <th scope="col">Year</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">1</th>
                    <td  id="organisation0"></td>
                    <td  id="roles0"></td>
                    <td  id="years0"></td>
                  </tr>
                  <tr>
                    <th scope="row">2</th>
                    <td  id="organisation1"></td>
                    <td  id="roles1"></td>
                    <td  id="years1"></td>
                  </tr>
                </tbody>
              </table>

              

              <h2 id="rightTitle">Area Of Interest</h2>
              <ul id="interestList"></ul>
          </section>
        </div>
      </div>   
    </div>      
     
    </div>

    <script>
      let resumeSelect = JSON.parse(localStorage.getItem("resumeList"))
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const nameurl = urlParams.get('name')
        alert(nameurl);

        for(let i = 0; i < resumeSelect.length; i++){
          if(nameurl == resumeSelect[i].fname){
            document.getElementById("name").textContent = resumeSelect[i].fname
            document.getElementById("email").textContent = resumeSelect[i].email
            document.getElementById("phoneNum").textContent = resumeSelect[i].phoneNumber
            document.getElementById("role").textContent = resumeSelect[i].role
            document.getElementById("objective").textContent = resumeSelect[i].objective;
            console.log(typeof(document.getElementById("objective").innerHTML = resumeSelect[i].objective));


            let personalDetails = resumeSelect[i].personalDetails
            document.getElementById("fatherName").textContent = personalDetails.fatherName;
            document.getElementById("dob").textContent = personalDetails.dob;
            document.getElementById("gender").textContent = personalDetails.gender;
            document.getElementById("nationality").textContent = personalDetails.nationality;
            document.getElementById("address").textContent = personalDetails.address;
            document.getElementById("languages").textContent = resumeSelect[i].languages;

            let educationDetails = resumeSelect[i].education
            for(let i = 0; i < educationDetails.length; i++){
            document.getElementById("course"+i).textContent = educationDetails[i].course;
            document.getElementById("year"+i).textContent = educationDetails[i].year;
            document.getElementById("institute"+i).textContent = educationDetails[i].institute; 
            document.getElementById("percentage"+i).textContent = educationDetails[i].percentage;
            }

            let experiances = resumeSelect[i].experiance
            for(let i = 0; i < experiances.length; i++){
              document.getElementById("organisation"+i).textContent = experiances[i].organisation;
              document.getElementById("roles"+i).textContent = experiances[i].role;
              document.getElementById("years"+i).textContent = experiances[i].years; 
            }

            let skillList = resumeSelect[i].skills
            let ele = "";
            for(let i = 0; i < skillList.length; i++){
                ele += `<li> ${skillList[i]}</li>`
            }
            document.getElementById("skillsList").innerHTML = ele;

            let certification = resumeSelect[i].cetification
            let elem = "";
            for(let i = 0; i < certification.length; i++){
                elem += `<li> ${certification[i]}</li>`
            }
            document.getElementById("certicationList").innerHTML = elem;

            let interest = resumeSelect[i].areaOfInterest
            let element = "";
            for(let i = 0; i < interest.length; i++){
                element += `<li> ${interest[i]}</li>`
            }
            document.getElementById("interestList").innerHTML = element;
          }
          console.log(resumeSelect);
        }
    </script>
</body>
</html>